{{ $profile := promptStringOnce . "profile" "Profile (home/work)" -}}
{{ if not (or (eq $profile "home") (eq $profile "work")) -}}
    {{ writeToStdout (print "Invalid profile " $profile "\n") -}}
    {{ exit 1 -}}
{{ end -}}
{{ $name := promptStringOnce . "name" "Name" -}}
{{ $email := promptStringOnce . "email" "Email" -}}

{{- if eq $profile "work" -}}
encryption: gpg

{{ end -}}

data:
    profile: {{ $profile | quote }}
    email: {{ $email | quote }}
    name: {{ $name | quote }}
{{- if eq $profile "work" }}
    # Working from home? Provide your office workstation IP here.
    office_workstation_ip: ""
{{- end }}
    xdg_session_type: {{ default "x11" (env "XDG_SESSION_TYPE") }}

{{- if eq $profile "work" }}
gpg:
    recipient: {{ $email | quote }}
{{- end }}
